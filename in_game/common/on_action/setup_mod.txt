on_game_start = {
	on_actions = {
		mod_run_performance_cleanup
		mod_nerf_bohemia
		mod_adjust_france
		mod_nerf_mamluks
	}
}

mod_run_performance_cleanup = {
	effect = {
		every_country = {
			limit = {
				country_type = pop
			}
			change_country_type = building
			every_owned_building = {
				change_building_level = -10
			}
		}

		sub_continent:pacific_islands = { mod_remove_and_disable_sub_continent = yes }
		region:tibet_region = { mod_remove_and_disable_region = yes }
		region:west_china_region = { mod_remove_and_disable_region = yes }
		area:guizhou_area = { mod_remove_and_disable_area = yes }
		area:dali_area = { mod_remove_and_disable_area = yes }
		area:yunnan_area = { mod_remove_and_disable_area = yes }

		c:JAP = {
			mod_annex_all_direct_vassals = yes
		}

		c:CRS = {
			mod_annex_all_nations_in_area = { target_area = lower_selenga_area }
			mod_annex_all_nations_in_area = { target_area = upper_selenga_area }
		}

		c:OTC = {
			mod_annex_all_nations_in_area = { target_area = songhua_area }
			mod_annex_all_nations_in_area = { target_area = ussuri_area }
			mod_annex_all_nations_in_area = { target_area = songnen_area }
		}

		c:QAS= {
			mod_annex_all_nations_in_area = { target_area = shilkari_area }
			mod_annex_all_nations_in_area = { target_area = argun_area }
			mod_annex_all_nations_in_area = { target_area = middle_amur_area }
			mod_annex_all_nations_in_area = { target_area = lower_amur_area }
		}

		c:SYG= {
			mod_annex_all_nations_in_area = { target_area = yanbei_area }
			mod_annex_all_nations_in_area = { target_area = liaodong_area }
		}

		c:CHI = {
			mod_annex_all_nations_in_area = { target_area = liangjiang_area }
			mod_annex_all_nations_in_area = { target_area = wuling_area }
		}
	}
}

mod_nerf_bohemia = {
	effect = {
		c:BOH = {
			cancel_subject = c:MVA
			cancel_subject = c:OPL
			cancel_subject = c:WRC
			cancel_subject = c:GLO

			create_relation = {
				first = c:BOH
				second = c:WRC
				type = relation_type:guarantee
			}

			create_relation = {
				first = c:BOH
				second = c:GLO
				type = relation_type:guarantee
			}
			
			create_union = c:MVA
			add_truce_with = { target = c:BRA mutual = yes months = 180 }
		}

		c:NYS = {
			make_subject_of = {
				target = c:BOH
				type = subject_type:vassal
			}
		}

		c:ZAG = {
			make_subject_of = {
				target = c:GLO
				type = subject_type:vassal
			}
		}
	}
}

mod_adjust_france = {
	effect = {
		c:FRA = {
			cancel_subject = c:FLA
			cancel_subject = c:ARS

			add_truce_with = { target = c:FLA mutual = yes months = 180 }
			add_truce_with = { target = c:HAI mutual = yes months = 180 }
			add_truce_with = { target = c:BRB mutual = yes months = 180 }
			add_truce_with = { target = c:LIE mutual = yes months = 180 }
			add_truce_with = { target = c:HOL mutual = yes months = 180 }
			add_truce_with = { target = c:GEL mutual = yes months = 180 }
			add_truce_with = { target = c:UTR mutual = yes months = 180 }
			add_truce_with = { target = c:LOO mutual = yes months = 180 }
			add_truce_with = { target = c:NAM mutual = yes months = 180 }
		}

		c:FLA = {
			cancel_subject = c:NAM
		}


		c:VLR = {
			make_subject_of = {
				target = c:MOS
				type = subject_type:vassal
			}
		}
	}
}

mod_nerf_mamluks = {
	effect = {
		c:MAM = {
			cancel_subject = c:FDL
			cancel_subject = c:AAL
			cancel_subject = c:DGE
			cancel_subject = c:DUL
			cancel_subject = c:KIL
			cancel_subject = c:MDA
			cancel_subject = c:MEC
			add_truce_with = { target = c:TUR mutual = yes months = 120 }
			add_truce_with = { target = c:CIL mutual = yes months = 120 }
			add_truce_with = { target = c:ERE mutual = yes months = 120 }
			add_truce_with = { target = c:KAR mutual = yes months = 120 }
			add_truce_with = { target = c:DUL mutual = yes months = 60 }
			add_truce_with = { target = c:KIL mutual = yes months = 60 }
			add_opinion = { target = c:CIL modifier = lhr_opinion_mams_relations_hit_200 }
			reverse_add_opinion = { target = c:CIL modifier = lhr_opinion_mams_relations_hit_200 }
			add_opinion = { target = c:ERE modifier = lhr_opinion_mams_relations_hit_200 }
			reverse_add_opinion = { target = c:ERE modifier = lhr_opinion_mams_relations_hit_200 }
			add_opinion = { target = c:KAR modifier = lhr_opinion_mams_relations_hit_200 }
			reverse_add_opinion = { target = c:KAR modifier = lhr_opinion_mams_relations_hit_200 }
			add_opinion = { target = c:DUL modifier = lhr_opinion_mams_relations_hit_100 }
			reverse_add_opinion = { target = c:DUL modifier = lhr_opinion_mams_relations_hit_100 }
			add_opinion = { target = c:KIL modifier = lhr_opinion_mams_relations_hit_100 }
			reverse_add_opinion = { target = c:KIL modifier = lhr_opinion_mams_relations_hit_100 }
		}
	}
}